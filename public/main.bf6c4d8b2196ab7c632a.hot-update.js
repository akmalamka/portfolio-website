/*! For license information please see main.bf6c4d8b2196ab7c632a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_website("main",{"./src/classes/Page.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var i=s("./node_modules/lodash/each.js"),a=s.n(i),n=s("./node_modules/lodash/map.js"),l=s.n(n),o=s("./node_modules/normalize-wheel/index.js"),r=s.n(o),h=s("./node_modules/prefix/index.js"),m=s.n(h),c=s("./node_modules/gsap/index.js"),d=s("./src/animations/Label.js"),u=s("./src/animations/Paragraph.js");Object(function(){var e=new Error("Cannot find module 'animations/Parallax'");throw e.code="MODULE_NOT_FOUND",e}());var p=s("./src/animations/Social.js"),w=s("./src/animations/Title.js"),f=s("./src/classes/AsyncLoad.js"),g=s("./src/utils/location.js");class P{constructor({element:e,elements:t,id:s}){this.selector=e,this.selectorChildren={...t,animationsLabels:'[data-animation="label"]',animationsParagraphs:'[data-animation="paragraph"]',animationsParallaxes:'[data-animation="parallax"]',animationsSocials:'[data-animation="social"]',animationsTitles:'[data-animation="title"]',preloaders:"[data-src]"},this.id=s,this.transformPrefix=m()("transform"),this.onMouseWheelEvent=this.onMouseWheel.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},a()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=document.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(e.includes("data-animation")||(this.elements[t]=document.querySelector(e))))})),console.log(this.elements),this.createAnimations(),this.createPreloader()}createAnimations(){this.animations=[],this.animationsLabels=l()(this.elements.animationsLabels,(e=>new d.default({element:e}))),this.animations.push(...this.animationsLabels),this.animationsParagraphs=l()(this.elements.animationsParagraphs,(e=>new u.default({element:e}))),this.animations.push(...this.animationsParagraphs),this.animationsParallaxes=mapEach(this.elements.animationsParallaxes,(e=>new Object(function(){var e=new Error("Cannot find module 'animations/Parallax'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.push(...this.animationsParallaxes),this.animationsSocials=l()(this.elements.animationsSocials,(e=>new p.default({element:e}))),this.animations.push(...this.animationsSocials),this.animationsTitles=l()(this.elements.animationsTitles,(e=>new w.default({element:e}))),this.animations.push(...this.animationsTitles)}createPreloader(){this.preloaders=l()(this.elements.preloaders,(e=>new f.default({element:e})))}show(){return new Promise((e=>{this.animationIn=c.default.timeline(),(0,g.isHashLocationExist)()&&"works"===this.id&&this.animationIn.set(this.elements.openingWrapper,{autoAlpha:0}),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1,onComplete:e}),this.animationIn.call((t=>{this.addEventListeners(),e()}))}))}hide(){return new Promise((e=>{this.destroy(),this.animateOut=c.default.timeline(),this.animateOut.to(this.element,{autoAlpha:0,onComplete:e})}))}onMouseWheel(e){const{pixelY:t}=r()(e);this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),a()(this.animations,(e=>e.onResize()))}update(){this.scroll.target=c.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=c.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){window.addEventListener("wheel",this.onMouseWheelEvent)}removeEventListeners(){window.removeEventListener("wheel",this.onMouseWheelEvent)}destroy(){this.removeEventListeners()}}}},(function(e){e.h=()=>"87ba859d9e21b05111d4"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM3RSxLQUFLVyxrQkFDekMsQ0FLRG1ELFVBRUM5RCxLQUFLNEUsc0JBQ0wsa0JDbk9GRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLXdlYnNpdGUvLi9zcmMvY2xhc3Nlcy9QYWdlLmpzIiwid2VicGFjazovL3BvcnRmb2xpby13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCdcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcbmltcG9ydCBOb3JtYWxpemVXaGVlbCBmcm9tICdub3JtYWxpemUtd2hlZWwnXG5pbXBvcnQgUHJlZml4IGZyb20gJ3ByZWZpeCdcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXG5cbmltcG9ydCBMYWJlbCBmcm9tICdhbmltYXRpb25zL0xhYmVsJ1xuaW1wb3J0IFBhcmFncmFwaCBmcm9tICdhbmltYXRpb25zL1BhcmFncmFwaCdcbmltcG9ydCBQYXJhbGxheCBmcm9tICdhbmltYXRpb25zL1BhcmFsbGF4J1xuaW1wb3J0IFNvY2lhbCBmcm9tICdhbmltYXRpb25zL1NvY2lhbCdcbmltcG9ydCBUaXRsZSBmcm9tICdhbmltYXRpb25zL1RpdGxlJ1xuXG5pbXBvcnQgQXN5bmNMb2FkIGZyb20gJ2NsYXNzZXMvQXN5bmNMb2FkJ1xuaW1wb3J0IHsgaXNIYXNoTG9jYXRpb25FeGlzdCB9IGZyb20gJ3V0aWxzL2xvY2F0aW9uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcblx0Y29uc3RydWN0b3IoeyBlbGVtZW50LCBlbGVtZW50cywgaWQgfSkge1xuXHRcdHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50XG5cdFx0dGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xuXHRcdFx0Li4uZWxlbWVudHMsXG5cdFx0XHRhbmltYXRpb25zTGFiZWxzOiAnW2RhdGEtYW5pbWF0aW9uPVwibGFiZWxcIl0nLFxuXHRcdFx0YW5pbWF0aW9uc1BhcmFncmFwaHM6ICdbZGF0YS1hbmltYXRpb249XCJwYXJhZ3JhcGhcIl0nLFxuXHRcdFx0YW5pbWF0aW9uc1BhcmFsbGF4ZXM6ICdbZGF0YS1hbmltYXRpb249XCJwYXJhbGxheFwiXScsXG5cdFx0XHRhbmltYXRpb25zU29jaWFsczogJ1tkYXRhLWFuaW1hdGlvbj1cInNvY2lhbFwiXScsXG5cdFx0XHRhbmltYXRpb25zVGl0bGVzOiAnW2RhdGEtYW5pbWF0aW9uPVwidGl0bGVcIl0nLFxuXG5cdFx0XHRwcmVsb2FkZXJzOiAnW2RhdGEtc3JjXScsXG5cdFx0fVxuXG5cdFx0dGhpcy5pZCA9IGlkXG5cblx0XHR0aGlzLnRyYW5zZm9ybVByZWZpeCA9IFByZWZpeCgndHJhbnNmb3JtJylcblxuXHRcdHRoaXMub25Nb3VzZVdoZWVsRXZlbnQgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpXG5cdH1cblxuXHRjcmVhdGUoKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuXG5cdFx0dGhpcy5lbGVtZW50cyA9IHt9XG5cblx0XHR0aGlzLnNjcm9sbCA9IHtcblx0XHRcdGN1cnJlbnQ6IDAsXG5cdFx0XHR0YXJnZXQ6IDAsXG5cdFx0XHRsYXN0OiAwLFxuXHRcdFx0bGltaXQ6IDAsXG5cdFx0fVxuXG5cdFx0ZWFjaCh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4sIChlbnRyeSwga2V5KSA9PiB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGVudHJ5IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8XG5cdFx0XHRcdGVudHJ5IGluc3RhbmNlb2Ygd2luZG93Lk5vZGVMaXN0IHx8XG5cdFx0XHRcdEFycmF5LmlzQXJyYXkoZW50cnkpXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpXG5cdFx0XHRcdGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50c1trZXldID0gbnVsbFxuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0XHRpZiAoIWVudHJ5LmluY2x1ZGVzKCdkYXRhLWFuaW1hdGlvbicpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRjb25zb2xlLmxvZyh0aGlzLmVsZW1lbnRzKVxuXG5cdFx0dGhpcy5jcmVhdGVBbmltYXRpb25zKClcblx0XHR0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG5cdH1cblxuXHRjcmVhdGVBbmltYXRpb25zKCkge1xuXHRcdHRoaXMuYW5pbWF0aW9ucyA9IFtdXG5cblx0XHQvL0xhYmVsc1xuXHRcdHRoaXMuYW5pbWF0aW9uc0xhYmVscyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNMYWJlbHMsIChlbGVtZW50KSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IExhYmVsKHsgZWxlbWVudCB9KVxuXHRcdH0pXG5cblx0XHR0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNMYWJlbHMpXG5cblx0XHQvL1BhcmFncmFwaHNcblx0XHR0aGlzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzID0gbWFwKFxuXHRcdFx0dGhpcy5lbGVtZW50cy5hbmltYXRpb25zUGFyYWdyYXBocyxcblx0XHRcdChlbGVtZW50KSA9PiB7XG5cdFx0XHRcdHJldHVybiBuZXcgUGFyYWdyYXBoKHsgZWxlbWVudCB9KVxuXHRcdFx0fVxuXHRcdClcblx0XHR0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzKVxuXG5cdFx0LyoqXG5cdFx0ICogUGFyYWxsYXhlcy5cblx0XHQgKi9cblx0XHR0aGlzLmFuaW1hdGlvbnNQYXJhbGxheGVzID0gbWFwRWFjaChcblx0XHRcdHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc1BhcmFsbGF4ZXMsXG5cdFx0XHQoZWxlbWVudCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gbmV3IFBhcmFsbGF4KHsgZWxlbWVudCB9KVxuXHRcdFx0fVxuXHRcdClcblxuXHRcdHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc1BhcmFsbGF4ZXMpXG5cblx0XHQvL1NvY2lhbHNcblx0XHR0aGlzLmFuaW1hdGlvbnNTb2NpYWxzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc1NvY2lhbHMsIChlbGVtZW50KSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFNvY2lhbCh7IGVsZW1lbnQgfSlcblx0XHR9KVxuXG5cdFx0dGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zU29jaWFscylcblxuXHRcdC8vVGl0bGVzXG5cdFx0dGhpcy5hbmltYXRpb25zVGl0bGVzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc1RpdGxlcywgKGVsZW1lbnQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgVGl0bGUoeyBlbGVtZW50IH0pXG5cdFx0fSlcblxuXHRcdHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc1RpdGxlcylcblx0fVxuXG5cdGNyZWF0ZVByZWxvYWRlcigpIHtcblx0XHR0aGlzLnByZWxvYWRlcnMgPSBtYXAodGhpcy5lbGVtZW50cy5wcmVsb2FkZXJzLCAoZWxlbWVudCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBBc3luY0xvYWQoeyBlbGVtZW50IH0pXG5cdFx0fSlcblx0fVxuXG5cdC8qKlxuXHQgKiBBbmltYXRpb25zXG5cdCAqL1xuXG5cdHNob3coKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHR0aGlzLmFuaW1hdGlvbkluID0gR1NBUC50aW1lbGluZSgpXG5cdFx0XHRpZiAoaXNIYXNoTG9jYXRpb25FeGlzdCgpICYmIHRoaXMuaWQgPT09ICd3b3JrcycpXG5cdFx0XHRcdHRoaXMuYW5pbWF0aW9uSW4uc2V0KHRoaXMuZWxlbWVudHMub3BlbmluZ1dyYXBwZXIsIHtcblx0XHRcdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRcdH0pXG5cdFx0XHR0aGlzLmFuaW1hdGlvbkluLmZyb21Ubyhcblx0XHRcdFx0dGhpcy5lbGVtZW50LFxuXHRcdFx0XHR7IGF1dG9BbHBoYTogMCB9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YXV0b0FscGhhOiAxLFxuXHRcdFx0XHRcdG9uQ29tcGxldGU6IHJlc29sdmUsXG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHRcdHRoaXMuYW5pbWF0aW9uSW4uY2FsbCgoXykgPT4ge1xuXHRcdFx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcblxuXHRcdFx0XHRyZXNvbHZlKClcblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXG5cdGhpZGUoKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKVxuXHRcdFx0dGhpcy5hbmltYXRlT3V0ID0gR1NBUC50aW1lbGluZSgpXG5cdFx0XHR0aGlzLmFuaW1hdGVPdXQudG8odGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdGF1dG9BbHBoYTogMCxcblx0XHRcdFx0b25Db21wbGV0ZTogcmVzb2x2ZSxcblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXG5cdC8qKlxuXHQgKiBFdmVudHNcblx0ICovXG5cblx0b25Nb3VzZVdoZWVsKGV2ZW50KSB7XG5cdFx0Y29uc3QgeyBwaXhlbFkgfSA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KVxuXG5cdFx0dGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWVxuXHR9XG5cblx0b25SZXNpemUoKSB7XG5cdFx0aWYgKHRoaXMuZWxlbWVudHMud3JhcHBlcikge1xuXHRcdFx0dGhpcy5zY3JvbGwubGltaXQgPVxuXHRcdFx0XHR0aGlzLmVsZW1lbnRzLndyYXBwZXIuY2xpZW50SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0XG5cdFx0fVxuXG5cdFx0ZWFjaCh0aGlzLmFuaW1hdGlvbnMsIChhbmltYXRpb24pID0+IGFuaW1hdGlvbi5vblJlc2l6ZSgpKVxuXHR9XG5cblx0LyoqXG5cdCAqIExvb3Bcblx0ICovXG5cblx0dXBkYXRlKCkge1xuXHRcdHRoaXMuc2Nyb2xsLnRhcmdldCA9IEdTQVAudXRpbHMuY2xhbXAoXG5cdFx0XHQwLFxuXHRcdFx0dGhpcy5zY3JvbGwubGltaXQsXG5cdFx0XHR0aGlzLnNjcm9sbC50YXJnZXRcblx0XHQpXG5cblx0XHR0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZShcblx0XHRcdHRoaXMuc2Nyb2xsLmN1cnJlbnQsXG5cdFx0XHR0aGlzLnNjcm9sbC50YXJnZXQsXG5cdFx0XHQwLjFcblx0XHQpXG5cblx0XHRpZiAodGhpcy5zY3JvbGwuY3VycmVudCA8IDAuMDEpIHtcblx0XHRcdHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSAwXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZWxlbWVudHMud3JhcHBlcikge1xuXHRcdFx0dGhpcy5lbGVtZW50cy53cmFwcGVyLnN0eWxlW1xuXHRcdFx0XHR0aGlzLnRyYW5zZm9ybVByZWZpeFxuXHRcdFx0XSA9IGB0cmFuc2xhdGVZKC0ke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgpYFxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMaXN0ZW5lcnNcblx0ICovXG5cdGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQpXG5cdH1cblxuXHRyZW1vdmVFdmVudExpc3RlbmVycygpIHtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uTW91c2VXaGVlbEV2ZW50KVxuXHR9XG5cblx0LyoqXG5cdCAqIERlc3Ryb3lcblx0ICovXG5cdGRlc3Ryb3koKSB7XG5cdFx0Ly8gc3VwZXIuZGVzdHJveSgpXG5cdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXG5cdH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjg3YmE4NTlkOWUyMWIwNTExMWQ0XCIpIl0sIm5hbWVzIjpbIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJlbGVtZW50cyIsImlkIiwidGhpcyIsInNlbGVjdG9yIiwic2VsZWN0b3JDaGlsZHJlbiIsImFuaW1hdGlvbnNMYWJlbHMiLCJhbmltYXRpb25zUGFyYWdyYXBocyIsImFuaW1hdGlvbnNQYXJhbGxheGVzIiwiYW5pbWF0aW9uc1NvY2lhbHMiLCJhbmltYXRpb25zVGl0bGVzIiwicHJlbG9hZGVycyIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsIm9uTW91c2VXaGVlbEV2ZW50Iiwib25Nb3VzZVdoZWVsIiwiYmluZCIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsYXN0IiwibGltaXQiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcmVhdGVQcmVsb2FkZXIiLCJhbmltYXRpb25zIiwibWFwIiwiTGFiZWwiLCJwdXNoIiwiUGFyYWdyYXBoIiwibWFwRWFjaCIsIlBhcmFsbGF4IiwiU29jaWFsIiwiVGl0bGUiLCJBc3luY0xvYWQiLCJzaG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJhbmltYXRpb25JbiIsIkdTQVAiLCJpc0hhc2hMb2NhdGlvbkV4aXN0Iiwic2V0Iiwib3BlbmluZ1dyYXBwZXIiLCJhdXRvQWxwaGEiLCJmcm9tVG8iLCJvbkNvbXBsZXRlIiwiY2FsbCIsIl8iLCJhZGRFdmVudExpc3RlbmVycyIsImhpZGUiLCJkZXN0cm95IiwiYW5pbWF0ZU91dCIsInRvIiwiZXZlbnQiLCJwaXhlbFkiLCJOb3JtYWxpemVXaGVlbCIsIm9uUmVzaXplIiwid3JhcHBlciIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiYW5pbWF0aW9uIiwidXBkYXRlIiwic3R5bGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9