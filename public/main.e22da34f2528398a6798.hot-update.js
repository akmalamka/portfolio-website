/*! For license information please see main.e22da34f2528398a6798.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_website("main",{"./src/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/lodash/each.js"),a=s.n(n),i=s("./node_modules/normalize-wheel/index.js"),o=s.n(i),h=s("./src/components/Canvas/index.js"),d=s("./src/components/Preloader.js"),c=s("./src/components/Navigation.js"),r=s("./src/pages/About/index.js"),p=s("./src/pages/Blog/index.js"),l=s("./src/pages/Home/index.js"),u=s("./src/pages/Works/index.js"),w=s("./src/utils/location.js");new class{constructor(){this.createContent(),this.createPreloader(),this.createNavigation(),this.createCanvas(),this.createPages(),this.addEventListeners(),this.addLinkListeners(),this.update()}createNavigation(){this.navigation=new c.default({template:this.template})}createPreloader(){this.preloader=new d.default,this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new r.default,blog:new p.default,home:new l.default,works:new u.default},this.page=this.pages[this.template],this.page.create()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}onPreloaded(){this.preloader.destroy(),this.onResize(),this.page.show()}async onChange({url:e,push:t=!0,isHashExist:s=!1,tag:n=""}){this.canvas.onChangeStart(this.template),await this.page.hide();const a=await window.fetch(e);if(200===a.status){const i=await a.text(),o=document.createElement("div");t&&(s&&n.length>0?window.history.pushState({},"",`/works#${n}`):window.history.pushState({},"",e)),o.innerHTML=i;const h=o.querySelector(".content");this.template=h.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=h.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("error")}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.canvas&&this.canvas.update&&this.canvas.update(),this.page&&this.page.update&&this.page.update(),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("wheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a"),t=document.querySelectorAll("button");a()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.onChange({url:s})}})),a()(t,(e=>{e.onclick=t=>{"works__opening__title"===e.className&&(t.preventDefault(),this.onChange({url:"/works",push:!0,isHashExist:!0,tag:(0,w.mapCategoryTag)(e.innerText)}))}}))}}}},(function(e){e.h=()=>"6f9f9f7680dbbc57e046"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFpQixTQUFVMUUsS0FBSzBDLFNBQVMxQixLQUFLaEIsTUFDckQsQ0FFRE8sbUJBQ0MsTUFBTW9FLEVBQVF2RCxTQUFTd0QsaUJBQWlCLEtBQ2xDQyxFQUFVekQsU0FBU3dELGlCQUFpQixVQUUxQ0UsSUFBS0gsR0FBUUksSUFDWkEsRUFBS0MsUUFBV2IsSUFDZkEsRUFBTWMsaUJBRU4sTUFBTSxLQUFFQyxHQUFTSCxFQUVqQi9FLEtBQUttQyxTQUFTLENBQUVDLElBQUs4QyxHQUFyQixDQUxELElBU0RKLElBQUtELEdBQVVNLElBQ2RBLEVBQU9ILFFBQVdiLElBQ1EsMEJBQXJCZ0IsRUFBT0MsWUFDVmpCLEVBQU1jLGlCQUVOakYsS0FBS21DLFNBQVMsQ0FDYkMsSUFBSyxTQUNMSSxNQUFNLEVBQ05JLGFBQWEsRUFDYkMsS0FBS3dDLEVBQUFBLEVBQUFBLGdCQUFlRixFQUFPRyxhQUU1QixDQVZGLEdBYUQsa0JDMU5GQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLXdlYnNpdGUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcG9ydGZvbGlvLXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcblxuaW1wb3J0IENhbnZhcyBmcm9tICdjb21wb25lbnRzL0NhbnZhcydcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICdjb21wb25lbnRzL05hdmlnYXRpb24nXG5cbmltcG9ydCBBYm91dCBmcm9tICdwYWdlcy9BYm91dCdcbmltcG9ydCBCbG9nIGZyb20gJ3BhZ2VzL0Jsb2cnXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lJ1xuaW1wb3J0IFdvcmtzIGZyb20gJ3BhZ2VzL1dvcmtzJ1xuXG5pbXBvcnQgeyBtYXBDYXRlZ29yeVRhZyB9IGZyb20gJ3V0aWxzL2xvY2F0aW9uJ1xuXG5jbGFzcyBBcHAge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuXG5cdFx0dGhpcy5jcmVhdGVQcmVsb2FkZXIoKVxuXHRcdHRoaXMuY3JlYXRlTmF2aWdhdGlvbigpXG5cdFx0dGhpcy5jcmVhdGVDYW52YXMoKVxuXHRcdHRoaXMuY3JlYXRlUGFnZXMoKVxuXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVycygpXG5cdFx0dGhpcy5hZGRMaW5rTGlzdGVuZXJzKClcblxuXHRcdHRoaXMudXBkYXRlKClcblx0fVxuXG5cdGNyZWF0ZU5hdmlnYXRpb24oKSB7XG5cdFx0dGhpcy5uYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSB9KVxuXHR9XG5cblx0Y3JlYXRlUHJlbG9hZGVyKCkge1xuXHRcdHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcigpXG5cdFx0dGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGVkJywgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKVxuXHR9XG5cblx0Y3JlYXRlQ2FudmFzKCkge1xuXHRcdHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlIH0pXG5cdH1cblxuXHRjcmVhdGVDb250ZW50KCkge1xuXHRcdHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jylcblx0XHR0aGlzLnRlbXBsYXRlID0gdGhpcy5jb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cdH1cblx0Y3JlYXRlUGFnZXMoKSB7XG5cdFx0dGhpcy5wYWdlcyA9IHtcblx0XHRcdGFib3V0OiBuZXcgQWJvdXQoKSxcblx0XHRcdGJsb2c6IG5ldyBCbG9nKCksXG5cdFx0XHRob21lOiBuZXcgSG9tZSgpLFxuXHRcdFx0d29ya3M6IG5ldyBXb3JrcygpLFxuXHRcdH1cblxuXHRcdHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cblx0XHR0aGlzLnBhZ2UuY3JlYXRlKClcblx0fVxuXG5cdC8qKlxuXHQgKiBFdmVudHNcblx0ICovXG5cblx0b25Qb3BTdGF0ZSgpIHtcblx0XHR0aGlzLm9uQ2hhbmdlKHsgdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsIHB1c2g6IGZhbHNlIH0pXG5cdH1cblxuXHRvblByZWxvYWRlZCgpIHtcblx0XHR0aGlzLnByZWxvYWRlci5kZXN0cm95KClcblxuXHRcdHRoaXMub25SZXNpemUoKVxuXG5cdFx0dGhpcy5wYWdlLnNob3coKVxuXHR9XG5cblx0YXN5bmMgb25DaGFuZ2UoeyB1cmwsIHB1c2ggPSB0cnVlLCBpc0hhc2hFeGlzdCA9IGZhbHNlLCB0YWcgPSAnJyB9KSB7XG5cdFx0dGhpcy5jYW52YXMub25DaGFuZ2VTdGFydCh0aGlzLnRlbXBsYXRlKVxuXG5cdFx0YXdhaXQgdGhpcy5wYWdlLmhpZGUoKVxuXG5cdFx0Y29uc3QgcmVxdWVzdCA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpXG5cblx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuXHRcdFx0Y29uc3QgaHRtbCA9IGF3YWl0IHJlcXVlc3QudGV4dCgpXG5cdFx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXG5cdFx0XHRpZiAocHVzaCkge1xuXHRcdFx0XHRpZiAoaXNIYXNoRXhpc3QgJiYgdGFnLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBgL3dvcmtzIyR7dGFnfWApXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbFxuXG5cdFx0XHRjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcblxuXHRcdFx0dGhpcy50ZW1wbGF0ZSA9IGRpdkNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcblxuXHRcdFx0dGhpcy5uYXZpZ2F0aW9uLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXG5cblx0XHRcdHRoaXMuY29udGVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnLCB0aGlzLnRlbXBsYXRlKVxuXHRcdFx0dGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MXG5cblx0XHRcdHRoaXMuY2FudmFzLm9uQ2hhbmdlRW5kKHRoaXMudGVtcGxhdGUpXG5cblx0XHRcdHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cblxuXHRcdFx0dGhpcy5wYWdlLmNyZWF0ZSgpXG5cblx0XHRcdHRoaXMub25SZXNpemUoKVxuXG5cdFx0XHR0aGlzLnBhZ2Uuc2hvdygpXG5cblx0XHRcdHRoaXMuYWRkTGlua0xpc3RlbmVycygpXG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicpXG5cdFx0fVxuXHR9XG5cblx0b25SZXNpemUoKSB7XG5cdFx0aWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25SZXNpemUpIHtcblx0XHRcdHRoaXMucGFnZS5vblJlc2l6ZSgpXG5cdFx0fVxuXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoXykgPT4ge1xuXHRcdFx0aWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uUmVzaXplKSB7XG5cdFx0XHRcdHRoaXMuY2FudmFzLm9uUmVzaXplKClcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0b25Ub3VjaERvd24oZXZlbnQpIHtcblx0XHRpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaERvd24pIHtcblx0XHRcdHRoaXMuY2FudmFzLm9uVG91Y2hEb3duKGV2ZW50KVxuXHRcdH1cblx0fVxuXG5cdG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG5cdFx0aWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKSB7XG5cdFx0XHR0aGlzLmNhbnZhcy5vblRvdWNoTW92ZShldmVudClcblx0XHR9XG5cdH1cblxuXHRvblRvdWNoVXAoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaFVwKSB7XG5cdFx0XHR0aGlzLmNhbnZhcy5vblRvdWNoVXAoZXZlbnQpXG5cdFx0fVxuXHR9XG5cblx0b25XaGVlbChldmVudCkge1xuXHRcdGNvbnN0IG5vcm1hbGl6ZWRXaGVlbCA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KVxuXHRcdGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vbldoZWVsKSB7XG5cdFx0XHR0aGlzLmNhbnZhcy5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbClcblx0XHR9XG5cdFx0aWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25XaGVlbCkge1xuXHRcdFx0dGhpcy5wYWdlLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMb29wXG5cdCAqL1xuXG5cdHVwZGF0ZSgpIHtcblx0XHRpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XG5cdFx0XHR0aGlzLmNhbnZhcy51cGRhdGUoKVxuXHRcdH1cblx0XHRpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS51cGRhdGUpIHtcblx0XHRcdHRoaXMucGFnZS51cGRhdGUoKVxuXHRcdH1cblx0XHR0aGlzLmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKVxuXHR9XG5cblx0LyoqXG5cdCAqIExpc3RlbmVyc1xuXHQgKi9cblx0YWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMub25Qb3BTdGF0ZS5iaW5kKHRoaXMpKVxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpXG5cdH1cblxuXHRhZGRMaW5rTGlzdGVuZXJzKCkge1xuXHRcdGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXG5cdFx0Y29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpXG5cblx0XHRlYWNoKGxpbmtzLCAobGluaykgPT4ge1xuXHRcdFx0bGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuXHRcdFx0XHRjb25zdCB7IGhyZWYgfSA9IGxpbmtcblxuXHRcdFx0XHR0aGlzLm9uQ2hhbmdlKHsgdXJsOiBocmVmIH0pXG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGVhY2goYnV0dG9ucywgKGJ1dHRvbikgPT4ge1xuXHRcdFx0YnV0dG9uLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKGJ1dHRvbi5jbGFzc05hbWUgPT09ICd3b3Jrc19fb3BlbmluZ19fdGl0bGUnKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG5cdFx0XHRcdFx0dGhpcy5vbkNoYW5nZSh7XG5cdFx0XHRcdFx0XHR1cmw6ICcvd29ya3MnLFxuXHRcdFx0XHRcdFx0cHVzaDogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzSGFzaEV4aXN0OiB0cnVlLFxuXHRcdFx0XHRcdFx0dGFnOiBtYXBDYXRlZ29yeVRhZyhidXR0b24uaW5uZXJUZXh0KSxcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufVxuXG5uZXcgQXBwKClcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjZmOWY5Zjc2ODBkYmJjNTdlMDQ2XCIpIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVQcmVsb2FkZXIiLCJjcmVhdGVOYXZpZ2F0aW9uIiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUGFnZXMiLCJhZGRFdmVudExpc3RlbmVycyIsImFkZExpbmtMaXN0ZW5lcnMiLCJ1cGRhdGUiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbiIsInRlbXBsYXRlIiwicHJlbG9hZGVyIiwiUHJlbG9hZGVyIiwib25jZSIsIm9uUHJlbG9hZGVkIiwiYmluZCIsImNhbnZhcyIsIkNhbnZhcyIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJibG9nIiwiQmxvZyIsImhvbWUiLCJIb21lIiwid29ya3MiLCJXb3JrcyIsInBhZ2UiLCJjcmVhdGUiLCJvblBvcFN0YXRlIiwib25DaGFuZ2UiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicHVzaCIsImRlc3Ryb3kiLCJvblJlc2l6ZSIsInNob3ciLCJpc0hhc2hFeGlzdCIsInRhZyIsIm9uQ2hhbmdlU3RhcnQiLCJoaWRlIiwicmVxdWVzdCIsImZldGNoIiwic3RhdHVzIiwiaHRtbCIsInRleHQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwibGVuZ3RoIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImlubmVySFRNTCIsImRpdkNvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJvbkNoYW5nZUVuZCIsImNvbnNvbGUiLCJsb2ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfIiwib25Ub3VjaERvd24iLCJldmVudCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsIm5vcm1hbGl6ZWRXaGVlbCIsIk5vcm1hbGl6ZVdoZWVsIiwiZnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9ucyIsImVhY2giLCJsaW5rIiwib25jbGljayIsInByZXZlbnREZWZhdWx0IiwiaHJlZiIsImJ1dHRvbiIsImNsYXNzTmFtZSIsIm1hcENhdGVnb3J5VGFnIiwiaW5uZXJUZXh0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9